import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Documentation/Design System" />

# Design System: Visual Standards

This document defines the visual design standards and aesthetic guidelines for the Boise Gun Club v4 project. It combines Stripe-inspired precision with ClickUp-inspired vibrancy, tailored for a professional gun club context.

## 1. Brand Identity & Philosophy

### 1.1. Design Principles

- **Professional Authority First:** Maintain credibility and safety-focused messaging
- **Modern Sophistication:** Contemporary design without being flashy or distracting
- **Balanced Enhancement:** Use effects to enhance, not overwhelm the content
- **Leading-Edge Execution:** Push the boundaries of web design while remaining accessible

### 1.2. Target Aesthetic

- **Stripe-Inspired Foundation:** Precise timing, layered shadows, subtle interactions
- **ClickUp-Inspired Accents:** Selective glassmorphism, tasteful gradients, color splashes
- **Gun Club Context:** Earth tones, professional hierarchy, clear information structure
- **Flagship Quality:** Suitable for showcasing at innervate.agency as a design exemplar

## 2. Typography System

### 2.1. Font Stack

**Primary Fonts:**
- **Rajdhani:** Display font for H1-H2 titles
- **Noto Sans:** Body text and H3-H6 headings
- **Noto Serif:** Editorial subtitles for texture (use `.editorial-subtitle` class)

**Fallback Stack:**
```css
--font-heading: "Rajdhani", "Arial Black", sans-serif;
--font-body: "Noto Sans", "Helvetica", "Arial", sans-serif;
--font-serif: "Noto Serif", "Georgia", "Times New Roman", serif;
```

### 2.2. Typography Hierarchy

**H1 - Brand Titles (Rajdhani)**
- Always full caps with strategic weight variations
- Example: "BOISE" (font-weight: 700) + "GUNCLUB" (font-weight: 300)
- Usage: Hero sections, main page titles, brand elements

**H2 - Major Sections (Rajdhani)**
- Standard capitalization, can be used multiple times per page
- Font-weight: 600 for professional hierarchy
- Usage: Section headers, page titles, major content divisions

**H3-H6 - Content Hierarchy (Noto Sans)**
- Consistent font-weight: 600 across all levels
- Usage: All standard content headings, subsections, supporting text

**Special: Editorial Subtitles (Noto Serif)**
- Use `.editorial-subtitle` class for texture and sophistication
- Font-weight: 400 italic for elegant distinction
- Usage: Taglines, descriptive subtitles, editorial emphasis only

**Body Text (Noto Sans)**
- Optimized for readability across all devices
- Clear information hierarchy with appropriate line spacing
- Usage: Paragraphs, lists, form labels, descriptions

## 3. Color System

### 3.1. Brand Colors

**Primary Palette:**
- **Leonard Yellow:** `#F2CB05` - Primary accent, call-to-action elements
- **Lahoma Orange:** `#F28705` - Secondary accent, hover states, energy
- **Rich Black:** `#0A0A0A` - Primary text, strong contrast elements
- **Pure White:** `#FFFFFF` - Background, negative space, clean contrast

**Extended Palette:**
- **Brand Blue:** `#5198cd` - Information, links, professional accents
- **Brand Green:** `#6f7822` - Success states, nature elements, safety
- **Brand Red:** `#8C394B` - Error states, urgent actions, warnings

### 3.2. Contextual Colors

**Light Theme:**
- Background: `#f8f6f1` (warm, inviting)
- Card backgrounds: `#ffffff` (clean, professional)
- Text: `#372103` (warm black, easier on eyes)
- Muted text: `#693e21` (secondary information)

**Dark Theme:**
- Background: `#2F3135` (sophisticated dark)
- Card backgrounds: `#4B4B4B` (elevated surfaces)
- Text: `#FDFDFD` (high contrast white)
- Muted text: `#EEF1F7` (secondary information)

## 4. Stripe-Inspired Precision (Research-Backed)

### 4.1. Timing & Transitions (Verified from stripe.com Analysis)

**Standard Transitions (Authentic Stripe Patterns):**
- **Fast:** `150ms cubic-bezier(0.215, 0.61, 0.355, 1)` - Hover states, focus rings, micro-interactions
- **Smooth:** `300ms cubic-bezier(0.215, 0.61, 0.355, 1)` - Modal appearances, page transitions, component state changes

**Research Findings from stripe.com:**
- Stripe uses variable fonts (sohne-var) for flexible typography weight (1-1000)
- Gradient backgrounds with complex radial color stops for premium sections
- Semantic CSS variables for color theming (--accentColor, --backgroundColor)
- Layered shadow system with granular definitions (XSmall to XLarge)
- Responsive font sizing using CSS calculations for fluid typography

**Usage Guidelines (Stripe-Validated):**
- Button hover states: 150ms (confirmed across stripe.com)
- Card elevation changes: 150ms with shadow progression
- Modal/dialog appearances: 300ms with backdrop blur
- Page transitions: 300ms with smooth opacity changes
- Form focus states: 150ms with border color transitions

### 4.2. Shadow System

**Layered Elevation:**
```css
--shadow-sm: 0 2px 4px -1px rgba(50,50,93,.25);
--shadow-md: 0 4px 8px -2px rgba(50,50,93,.25);
--shadow-lg: 0 8px 16px -4px rgba(50,50,93,.25);
--shadow-xl: 0 16px 32px -8px rgba(50,50,93,.25);
```

**Application:**
- Cards: `shadow-sm` default, `shadow-md` hover
- Buttons: `shadow-sm` default, `shadow-lg` premium variants
- Modals: `shadow-xl` for strong elevation
- Tooltips: `shadow-md` for subtle floating

### 4.3. Micro-Interactions

**Button States:**
- Hover: Subtle color shift + shadow elevation
- Active: Slight scale reduction (0.98) + shadow reduction
- Focus: Outline ring with brand color
- Loading: Spinner with fade-in animation

**Form Elements:**
- Focus: Floating label animation + border color change
- Validation: Smooth error/success state transitions
- Input: Subtle border radius and shadow on focus

## 5. ClickUp-Inspired Vibrancy (Research-Backed)

### 5.1. Windows 11 Mica Effects + Research Integration

**Exact CSS Variables for Implementation:**
```css
/* Windows 11 Mica Specifications */
--mica-premium-bg: rgba(248, 246, 241, 0.85); /* 85% opacity - mostly opaque */
--mica-elite-bg: rgba(248, 246, 241, 0.90); /* 90% opacity - more opaque */
--mica-blur-premium: blur(20px) saturate(1.2); /* 20px blur + 120% saturation */
--mica-blur-elite: blur(24px) saturate(1.4); /* 24px blur + 140% saturation */

/* Brand Color Bleeding Variables */
--leonard-bleed-light: rgba(242, 203, 5, 0.08); /* 8% Leonard Yellow */
--leonard-bleed-medium: rgba(242, 203, 5, 0.12); /* 12% Leonard Yellow */
--lahoma-bleed-light: rgba(242, 135, 5, 0.06); /* 6% Lahoma Orange */
--lahoma-bleed-medium: rgba(242, 135, 5, 0.10); /* 10% Lahoma Orange */

/* Mica Border System */
--mica-border-premium: 1px solid rgba(242, 203, 5, 0.2); /* 20% Leonard Yellow */
--mica-border-elite: 2px solid rgba(242, 203, 5, 0.3); /* 30% Leonard Yellow */

/* Noise Pattern Data URIs */
--noise-fine: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.02'%3E%3Ccircle cx='7' cy='7' r='1'/%3E%3Ccircle cx='27' cy='7' r='1'/%3E%3Ccircle cx='47' cy='7' r='1'/%3E%3C/g%3E%3C/svg%3E");
--noise-dense: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.03'%3E%3Ccircle cx='5' cy='5' r='1'/%3E%3Ccircle cx='15' cy='5' r='1'/%3E%3Ccircle cx='25' cy='5' r='1'/%3E%3Ccircle cx='35' cy='5' r='1'/%3E%3C/g%3E%3C/svg%3E");
```

**Implementation Classes:**
```css
.mica-premium { 
  background: var(--mica-premium-bg);
  backdrop-filter: var(--mica-blur-premium);
  border: var(--mica-border-premium);
  position: relative;
}

.mica-premium::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(circle at 30% 70%, var(--leonard-bleed-light) 0%, transparent 50%),
    radial-gradient(circle at 70% 30%, var(--lahoma-bleed-light) 0%, transparent 50%),
    var(--noise-fine);
  pointer-events: none;
  z-index: -1;
}

.mica-elite {
  background: var(--mica-elite-bg);
  backdrop-filter: var(--mica-blur-elite);
  border: var(--mica-border-elite);
  position: relative;
}

.mica-elite::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(circle at 20% 80%, var(--leonard-bleed-medium) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, var(--lahoma-bleed-medium) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, var(--leonard-bleed-light) 0%, transparent 70%),
    var(--noise-dense);
  pointer-events: none;
  z-index: -1;
}
```

**Research Integration Specifications:**
- **Stripe Timing**: All transitions use `transition: all 150ms cubic-bezier(0.215, 0.61, 0.355, 1)`
- **ClickUp Spacing**: 18px between major elements, 14px for symbol spacing
- **Windows 11 Standards**: 85-90% opacity backgrounds, 20-24px blur radius
- **Brand Color Integration**: Leonard Yellow (#F2CB05) and Lahoma Orange (#F28705) bleeding through at 6-12% opacity

### 5.2. Gradient System

**Subtle Gradients (Professional):**
- Background overlays: Linear gradients with 5-10% opacity
- Button accents: Subtle Leonard Yellow to Lahoma Orange
- Card borders: Animated gradients for special content

**Implementation:**
```css
.gradient-subtle { background: linear-gradient(45deg, #F2CB05/5%, #F28705/5%); }
.gradient-accent { background: linear-gradient(45deg, #F2CB05, #F28705); }
.gradient-border { border-image: linear-gradient(45deg, #F2CB05, #F28705) 1; }
```

### 5.3. Gradient Splash Effects (ClickUp-Inspired)

**Background Gradient Splashes:**
- Leonard Yellow/Lahoma Orange gradient areas with blur effects
- Applied behind Premium/Elite components
- No floating orbs - use gradient overlays instead
- Animated movement with reduced motion respect

**Usage Guidelines:**
- Maximum 2-3 gradient splash areas per screen
- Opacity: 30-40% for Premium, 40-60% for Elite
- Always use Leonard Yellow to Lahoma Orange gradients
- Apply blur effects for soft, professional appearance

## 6. Component-Specific Guidelines

### 6.1. Button Design

**Primary Button:**
- Leonard Yellow background with subtle shadow
- Hover: Lahoma Orange with shadow elevation
- Typography: Noto Sans, semibold weight
- Padding: Comfortable touch targets (min 44px height)

**Premium Button:**
- Gradient background with shimmer effect
- Enhanced shadow system for elevation
- Subtle scale animation on hover
- Reserved for high-value actions

### 6.2. Card Design (Exhaustive Implementation Specs)

**Standard Card (Stripe-Research Based):**
```css
.card-standard {
  background: var(--color-card); /* #ffffff */
  border-radius: 12px; /* Stripe's standard radius */
  padding: var(--card-padding-md); /* 24px */
  box-shadow: var(--shadow-sm); /* 0 2px 4px -1px rgba(50,50,93,.25) */
  border: 1px solid var(--color-border);
  transition: all 150ms cubic-bezier(0.215, 0.61, 0.355, 1);
}

.card-standard:hover {
  box-shadow: var(--shadow-md); /* 0 4px 8px -2px rgba(50,50,93,.25) */
  transform: translateY(-1px);
}
```

**Glass Card (ClickUp + Windows 11 Hybrid):**
```css
.card-glass {
  background: var(--mica-premium-bg); /* rgba(248, 246, 241, 0.85) */
  backdrop-filter: var(--mica-blur-premium); /* blur(20px) saturate(1.2) */
  border: var(--mica-border-premium); /* 1px solid rgba(242, 203, 5, 0.2) */
  border-radius: 16px; /* Slightly larger for glass effect */
  padding: var(--card-padding-md); /* 24px */
  position: relative;
}

.card-glass::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(circle at 30% 70%, var(--leonard-bleed-light) 0%, transparent 50%),
    var(--noise-fine);
  border-radius: inherit;
  pointer-events: none;
  z-index: -1;
}
```

**Premium Card (Research-Fusion Spec):**
```css
.card-premium {
  background: linear-gradient(135deg, var(--color-leonard-yellow) 0%, var(--color-lahoma-orange) 100%);
  color: var(--color-rich-black); /* Black text for contrast */
  border-radius: 16px;
  padding: var(--card-padding-lg); /* 32px */
  box-shadow: var(--shadow-premium); /* Brand-colored shadow */
  border: 2px solid rgba(242, 203, 5, 0.3);
  position: relative;
  overflow: hidden;
  transition: all 150ms cubic-bezier(0.215, 0.61, 0.355, 1);
}

.card-premium:hover {
  box-shadow: var(--shadow-premium-hover);
  transform: scale(1.02) translateY(-2px);
}

.card-premium::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--noise-fine);
  opacity: 0.1;
  pointer-events: none;
}
```

**Elite Card (Maximum Research Integration):**
```css
.card-elite {
  background: linear-gradient(
    135deg, 
    var(--color-leonard-yellow) 0%, 
    var(--color-lahoma-orange) 50%, 
    var(--color-leonard-yellow) 100%
  );
  background-size: 200% 100%;
  color: var(--color-rich-black);
  border-radius: 20px;
  padding: var(--card-padding-lg); /* 32px */
  box-shadow: var(--shadow-elite);
  border: 3px solid rgba(242, 203, 5, 0.4);
  position: relative;
  overflow: hidden;
  animation: shimmer 3s ease-in-out infinite;
  transition: all 150ms cubic-bezier(0.215, 0.61, 0.355, 1);
}

.card-elite:hover {
  box-shadow: var(--shadow-elite-hover);
  transform: scale(1.05) translateY(-4px);
  animation-duration: 1.5s; /* Faster shimmer on hover */
}

.card-elite::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    var(--noise-dense),
    linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.2) 50%, transparent 70%);
  animation: shine 2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes shimmer {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes shine {
  0%, 100% { transform: translateX(-100%); }
  50% { transform: translateX(100%); }
}
```

**Card Content Spacing (Anti-Smushed Rules):**
```css
/* Card Header Spacing */
.card-header {
  margin-bottom: var(--component-gap-medium); /* 24px */
  padding-bottom: var(--space-4); /* 16px */
  border-bottom: 1px solid var(--color-border);
}

/* Card Content Spacing */
.card-content {
  padding: var(--space-4) 0; /* 16px top/bottom */
}

.card-content > * + * {
  margin-top: var(--space-4); /* 16px between content elements */
}

/* Card Footer Spacing */
.card-footer {
  margin-top: var(--component-gap-medium); /* 24px */
  padding-top: var(--space-4); /* 16px */
  border-top: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  gap: var(--space-3); /* 12px between footer elements */
}
```

### 6.3. Navigation Design

**Primary Navigation:**
- Clear hierarchy with Rajdhani headings
- Smooth transitions between states
- Proper focus indicators for accessibility
- Responsive design for all devices

**Breadcrumb Navigation:**
- Noto Sans for consistency
- Subtle separators with brand accent
- Hover states on interactive elements
- Clear current page indication

## 7. 8pt Grid Spacing System (Research-Based)

### 7.1. Exact Spacing Variables

**8pt Base System (Industry Standard):**
```css
/* Core 8pt Grid Variables */
--space-1: 4px;   /* 0.5 unit - Half step for icons/small text */
--space-2: 8px;   /* 1 unit - Minimum touch target spacing */
--space-3: 12px;  /* 1.5 units - Compact element spacing */
--space-4: 16px;  /* 2 units - Standard element spacing */
--space-5: 20px;  /* 2.5 units - Component breathing room */
--space-6: 24px;  /* 3 units - Section spacing */
--space-8: 32px;  /* 4 units - Large component spacing */
--space-10: 40px; /* 5 units - Major section dividers */
--space-12: 48px; /* 6 units - Page section spacing */
--space-16: 64px; /* 8 units - Hero/major layout spacing */
--space-20: 80px; /* 10 units - Largest spacing */
```

**Component-Specific Padding (Anti-Smushed):**
```css
/* Card Component Spacing */
--card-padding-sm: var(--space-4);   /* 16px - Small cards */
--card-padding-md: var(--space-6);   /* 24px - Standard cards */
--card-padding-lg: var(--space-8);   /* 32px - Large cards */
--card-gap: var(--space-4);          /* 16px - Between card elements */

/* Button Component Spacing */
--button-padding-x-sm: var(--space-3);  /* 12px horizontal - Small buttons */
--button-padding-y-sm: var(--space-2);  /* 8px vertical - Small buttons */
--button-padding-x-md: var(--space-4);  /* 16px horizontal - Standard buttons */
--button-padding-y-md: var(--space-3);  /* 12px vertical - Standard buttons */
--button-padding-x-lg: var(--space-6);  /* 24px horizontal - Large buttons */
--button-padding-y-lg: var(--space-4);  /* 16px vertical - Large buttons */

/* Navigation Spacing */
--nav-item-padding: var(--space-4);     /* 16px - Navigation item padding */
--nav-gap: var(--space-6);              /* 24px - Between nav items */
--nav-section-gap: var(--space-8);      /* 32px - Between nav sections */

/* Form Element Spacing */
--form-field-gap: var(--space-4);       /* 16px - Between form fields */
--form-section-gap: var(--space-8);     /* 32px - Between form sections */
--form-label-gap: var(--space-2);       /* 8px - Label to input spacing */
```

**Container System (Exact Measurements):**
```css
/* Container Width Variables */
--container-mobile: 100%;                    /* Mobile: Full width */
--container-mobile-padding: var(--space-4);  /* Mobile: 16px padding */
--container-tablet: 768px;                   /* Tablet: Fixed max-width */
--container-tablet-padding: var(--space-6);  /* Tablet: 24px padding */
--container-desktop: 1200px;                 /* Desktop: Fixed max-width */
--container-desktop-padding: var(--space-8); /* Desktop: 32px padding */
--container-wide: 1440px;                    /* Wide: Fixed max-width */
--container-wide-padding: var(--space-10);   /* Wide: 40px padding */
```

### 7.2. Component Hierarchy Spacing (Research-Validated)

**Stripe-Inspired Section Spacing:**
```css
/* Major Layout Sections */
--section-gap-hero: var(--space-20);      /* 80px - Hero to content */
--section-gap-major: var(--space-16);     /* 64px - Between major sections */
--section-gap-standard: var(--space-12);  /* 48px - Between content sections */
--section-gap-minor: var(--space-8);      /* 32px - Between related sections */

/* ClickUp-Inspired Component Spacing */
--component-gap-large: var(--space-8);    /* 32px - Between large components */
--component-gap-medium: var(--space-6);   /* 24px - Between medium components */
--component-gap-small: var(--space-4);    /* 16px - Between small components */
--component-gap-tight: var(--space-2);    /* 8px - Between tight elements */
```

**Anti-Smushed Implementation Rules:**
1. **Internal ≤ External**: Padding inside elements must be ≤ margin around elements
2. **Minimum Touch Targets**: All interactive elements minimum 44px (var(--space-10) + var(--space-1))
3. **Breathing Room**: Always use minimum var(--space-4) between unrelated elements
4. **Visual Hierarchy**: Larger spacing = more important separation
5. **Consistent Rhythm**: Only use defined spacing variables, never arbitrary values

## 8. Animation & Motion

### 8.1. Scroll Effects (Balanced Approach)

**Progressive Disclosure:**
- Fade-in on scroll with intersection observer
- Subtle upward movement (20px) on reveal
- Staggered animations for grouped elements
- Respect `prefers-reduced-motion` setting

**Parallax Elements:**
- Subtle background movement (0.5x scroll speed)
- Limited to hero sections and feature highlights
- No motion sickness inducing effects
- Always optional/disableable

### 8.2. Loading States

**Skeleton Screens:**
- Gradient shimmer animation
- Proper content shape approximation
- Smooth transition to actual content
- Consistent with overall design system

**Micro-Interactions:**
- Button press feedback (subtle scale)
- Form field focus animations
- Success/error state transitions
- Tooltip appearances

## 9. Accessibility Standards

### 9.1. Color Contrast

**WCAG AA Compliance:**
- Text on background: 4.5:1 minimum ratio
- Large text: 3:1 minimum ratio
- Interactive elements: Clear focus indicators
- Color not sole information indicator

### 9.2. Motion Sensitivity

**Reduced Motion Support:**
- Respect `prefers-reduced-motion: reduce`
- Provide static alternatives for animations
- Maintain functionality without motion
- Essential animations only when needed

### 9.3. Keyboard Navigation

**Focus Management:**
- Visible focus indicators on all interactive elements
- Logical tab order throughout interface
- Skip links for main content areas
- Proper ARIA labels and roles

## 10. Implementation Notes

### 10.1. CSS Custom Properties & Tailwind v4 Syntax

All design tokens must be defined as CSS custom properties in `globals.css`:

```css
@theme {
  --color-leonard-yellow: #F2CB05;
  --color-lahoma-orange: #F28705;
  --font-heading: "Rajdhani", sans-serif;
  --font-body: "Noto Sans", sans-serif;
  --font-serif: "Noto Serif", serif;
  --transition-fast: 150ms cubic-bezier(0.215, 0.61, 0.355, 1);
  --shadow-sm: 0 2px 4px -1px rgba(50,50,93,.25);
}
```

**CRITICAL: Tailwind v4 Modern Syntax (2025 Standard)**

When referencing CSS custom properties defined with `@theme`, use the **direct utility class syntax**:

```html
<!-- ✅ CORRECT: v4 Direct Utility Syntax -->
<div class="bg-leonard-yellow">
<div class="border-leonard-yellow/30">
<div class="text-lahoma-orange">

<!-- ❌ FORBIDDEN: All old syntax variations -->
<div class="bg-(--color-leonard-yellow)">
<div class="bg-[var(--color-leonard-yellow)]">
<div class="bg-[--color-leonard-yellow]">
<div class="bg-color-leonard-yellow">
```

**With Opacity Modifiers:**
```html
<div class="bg-leonard-yellow/20">
<div class="border-lahoma-orange/50">
<div class="shadow-md">
```

**Theme-Aware Color References:**
```html
<div class="bg-card text-text">
<div class="border-primary hover:bg-primary/10">
```

### 10.2. Component Documentation

Each component must include:
- Design rationale and usage guidelines
- Accessibility considerations
- Performance implications
- Responsive behavior
- Dark mode support

This design system represents the visual standards for creating a flagship-quality website that balances professional authority with modern sophistication, suitable for showcase at innervate.agency.

## 11. Self-Hosted Infrastructure & Tools (Open Source)

### 11.1. Membership Management (VPS-Hosted)

**Primary Options for Gun Club Management:**
- **Tendenci**: Multi-chapter organization management
  - GitHub: Open source, fully self-hosted
  - Features: Membership, events, directories, billing integration
  - Perfect for gun clubs with multiple shooting disciplines
- **Admidio**: Free membership management system
  - Modular: User management, events, roles, database backups
  - Easy installation and configuration on VPS
- **Zenbership**: 100% free membership CRM platform
  - Features: Subscription management, invoicing, shopping cart
  - Payment gateway integration (Stripe, PayPal, Authorize.net)

### 11.2. Analytics & Performance Monitoring (Self-Hosted)

**Privacy-First Analytics Solutions:**
- **Plausible Analytics**: Open-source, GDPR-compliant
  - 75x smaller script than Google Analytics
  - Demonstrated Core Web Vitals improvement (70→96 scores)
  - No cookies, complete data ownership
- **Matomo**: Most feature-complete Google Analytics alternative
  - Full website traffic analysis and user behavior tracking
  - Extensive plugin ecosystem, GDPR compliant
  - Self-hosted on VPS with full data control

**Core Web Vitals Monitoring:**
- **web-vitals library**: Google's official 2K bundle monitoring
  - Accurate Chrome measurements for LCP, INP, CLS
  - Integration with self-hosted analytics platforms
  - Real User Monitoring (RUM) capabilities

### 11.3. Content Management (Headless CMS)

**Self-Hosted CMS Alternatives:**
- **Directus**: Database-to-API platform
  - Turn any SQL database into REST/GraphQL APIs
  - No-code admin interface, free for companies under $5M revenue
  - Perfect for gun club content and membership data
- **Payload CMS**: TypeScript-native, Next.js based
  - Built on React Server Components for performance
  - Developer-first approach with seamless Next.js integration
  - Modern authentication and role-based access control
- **KeystoneJS**: Code-first CMS for JavaScript developers
  - GraphQL API with modern React admin UI
  - Excellent TypeScript support and schema flexibility

### 11.4. VPS Infrastructure Requirements

**Recommended Containerized Architecture:**
```yaml
# docker-compose.yml structure for gun club website
services:
  nextjs-app:      # Main website (this project)
  postgres:        # Database for membership/CMS data
  redis:          # Caching and session storage
  directus:       # Headless CMS backend
  plausible:      # Self-hosted analytics
  tendenci:       # Membership management system
  nginx:          # Reverse proxy and SSL termination
  watchtower:     # Automatic container updates
```

**VPS Specifications:**
- **Small Club**: 4GB RAM, 2 CPU cores, 50GB SSD
- **Medium Club**: 8GB RAM, 4 CPU cores, 100GB SSD
- **Large Club**: 16GB RAM, 8 CPU cores, 200GB SSD

### 11.5. Payment Processing Integration

**Open-Source Payment Solutions:**
- **Stripe API Integration**: Direct payment processing
  - Subscription management for memberships
  - Event registration and fee collection
  - PCI-compliant tokenization
- **BTCPay Server**: Self-hosted Bitcoin payment processor
  - Privacy-focused cryptocurrency payments
  - No third-party dependencies
- **Invoice Generation**: PDF generation with jsPDF library
  - Automated billing for membership dues
  - Event registration confirmations

### 11.6. Communication Systems

**Self-Hosted Email Solutions:**
- **Postal**: Self-hosted email delivery platform
  - Transactional emails for membership notifications
  - Newsletter and announcement capabilities
- **Listmonk**: Self-hosted newsletter management
  - Member communication and event announcements
  - Segmentation for different membership tiers
- **MJML Framework**: Responsive email templates
  - Professional email design for club communications

### 11.7. Development & Deployment Pipeline

**CI/CD Infrastructure:**
- **GitHub Actions**: Free CI/CD (2000 minutes/month)
- **Self-hosted runners**: Unlimited builds on VPS
- **Docker + Docker Compose**: Container orchestration
- **Nginx**: Reverse proxy with Let's Encrypt SSL
- **Certbot**: Automatic SSL certificate renewal

**Performance Optimization:**
- **Redis**: Caching layer for improved response times
- **CDN**: Nginx static file serving with compression
- **Image optimization**: Sharp + next/image integration
- **Database optimization**: PostgreSQL with connection pooling

This infrastructure provides complete data ownership, privacy compliance, and cost-effective scaling for gun club operations while maintaining professional standards and performance.