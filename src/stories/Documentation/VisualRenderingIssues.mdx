import { Meta } from '@storybook/blocks';

<Meta title="Documentation/Known Issues/Visual Rendering" />

# 🚨 Critical Visual Rendering Issues

*Last Updated: July 7, 2025*

## Overview

After completing the massive component arsenal build, several critical visual rendering issues have been identified in Storybook that need immediate attention before the 30-page website deployment.

## 🔍 Identified Issues

### 1. **White Text on White Background**
- **Component**: Membership Card
- **Issue**: Text appears white on white background, making content unreadable
- **Cause**: `text-card-foreground` CSS variable resolving incorrectly in light theme
- **Priority**: 🔥 CRITICAL

### 2. **Invisible Premium Buttons**
- **Component**: Premium Button variants
- **Issue**: Button backgrounds not rendering, buttons appear invisible
- **Cause**: CSS variables for button colors not loading in Storybook
- **Priority**: 🔥 CRITICAL

### 3. **Content Disappearing**
- **Component**: Various card components
- **Issue**: Component content not rendering properly in stories
- **Cause**: Story configuration or theme context issues
- **Priority**: 🔥 HIGH

### 4. **CSS Variable Loading**
- **Component**: Global theme system
- **Issue**: Storybook not properly loading CSS variables from themes.css
- **Cause**: Theme provider or CSS import issues in Storybook configuration
- **Priority**: 🔥 CRITICAL

## 🔧 Root Cause Analysis

### CSS Variable Resolution
```css
/* Expected */
.text-card-foreground { color: #372103; } /* Dark text on light theme */

/* Actual */
.text-card-foreground { color: #FDFDFD; } /* White text on light theme */
```

### Button Background Missing
```css
/* Expected */
.bg-leonard-yellow { background-color: #F2CB05; }

/* Actual */
.bg-leonard-yellow { background-color: transparent; }
```

## 📋 Debugging Checklist

### Immediate Actions Needed:
- [ ] Check Storybook CSS import order in `.storybook/preview.js`
- [ ] Verify theme provider wrapper in Storybook decorators
- [ ] Test CSS variable resolution in browser dev tools
- [ ] Fix `text-card-foreground` color mapping in themes.css
- [ ] Restore Premium Button background color variables
- [ ] Test all component stories for visual rendering

### Files to Investigate:
1. `.storybook/preview.js` - Theme and CSS imports
2. `src/styles/themes.css` - CSS variable definitions
3. `tailwind.config.js` - Color mappings
4. `src/stories/ComponentCards.stories.tsx` - Card story config
5. `src/stories/FusionComponents.stories.tsx` - Button story config

## 🎯 Success Criteria

### Fixed When:
- ✅ Membership Card text is dark on light background
- ✅ Premium Buttons show proper background colors
- ✅ All component content renders properly
- ✅ CSS variables resolve correctly in all themes
- ✅ No white-on-white or invisible components

## 📊 Component Status

| Component | Rendering | Issues | Priority |
|-----------|-----------|---------|----------|
| Membership Card | ❌ Broken | White text | Critical |
| Premium Button | ❌ Broken | No background | Critical |
| Blog Components | ✅ Working | None known | - |
| Gallery Components | ✅ Working | None known | - |
| Pricing Components | ⚠️ Partial | Check contrast | Medium |
| FAQ Components | ✅ Working | None known | - |

## 🚀 Next Steps

1. **Immediate**: Fix CSS variable loading in Storybook
2. **Priority**: Repair white-on-white text issues
3. **Follow-up**: Test all components for visual consistency
4. **Deploy**: Verify 30-page build readiness

---

*This documentation will be updated as issues are resolved.*